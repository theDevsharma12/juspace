<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Animated Signup Form</title>
    <link rel="stylesheet" href="Signup.css" />
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  </head>
  <body>
    <div class="container">
      <header>Signup Form</header>
      <form>
        <div class="input-field">
          <input id="email" type="text" required />
          <label>Email or Username</label>
        </div>
        <div class="input-field">
          <input id="password" type="password" required />
          <span class="show">SHOW</span>
          <label>Password</label>
        </div>
        <div class="input-field">
            <input id="firstname" type="text" required />
            <span class="show">SHOW</span>
            <label>First name</label>
        </div>
        <div class="input-field">
            <input id="lastname" type="text" required />
            <span class="show">SHOW</span>
            <label>last name</label>
        </div>
        <div class="button">
          <div class="inner"></div>
          <button id="signup">Signup</button>
        </div>
      </form>
      <div class="auth">Or signup with</div>
      <div class="links">
        <div class="facebook">
          <i class="fab fa-facebook-square"><span>Facebook</span></i>
        </div>
        <div class="google">
          <i class="fab fa-google-plus-square"><span>Google</span></i>
        </div>
      </div>
      <div class="signup">already a member? <a href="login.html">Signin now</a></div>
    </div>
    <script>
      var input = document.querySelector(".pswrd");
      var show = document.querySelector(".show");
      show.addEventListener("click", active);
      function active() {
        if (input.type === "password") {
          input.type = "text";
          show.style.color = "#1DA1F2";
          show.textContent = "HIDE";
        } else {
          input.type = "password";
          show.textContent = "SHOW";
          show.style.color = "#111";
        }
      }
    </script>
    <script>
        let signup=document.getElementById("signup")
signup.addEventListener("click",async (e)=>{
    e.preventDefault()
    let email = document.getElementById("email").value;
    let password = document.getElementById("password").value;
    let firstname = document.getElementById("firstname").value;
    let lastname = document.getElementById("lastname").value;
    const response = await fetch(
        "https://juspace.onrender.com/api/v1/auth/register",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            email,
            password,
            firstname
            ,lastname
          }),
        }
      );
  
      const result = await response.json();
      localStorage.setItem("token",result.token)
      localStorage.setItem("firstname",firstname)
      window.location.href="/"
})
    </script>
  </body>
</html>
